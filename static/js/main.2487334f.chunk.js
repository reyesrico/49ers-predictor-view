(this["webpackJsonp49ers-predictor-view"]=this["webpackJsonp49ers-predictor-view"]||[]).push([[0],{22:function(e,a,t){},41:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var c=t(2),s=t.n(c),n=t(13),i=t.n(n),r=(t(22),t(14)),l=t(15),o=t(17),d=t(16),m=t(4),p=t.n(m),h=t.p+"static/media/loading.3c3afa39.gif",u=[{week:1,team:10,isLocal:0},{week:2,team:24,isLocal:0},{week:3,team:11,isLocal:1},{week:4,team:28,isLocal:1},{week:5,team:25,isLocal:0},{week:7,team:13,isLocal:1},{week:8,team:5,isLocal:0},{week:9,team:25,isLocal:1},{week:10,team:16,isLocal:1},{week:11,team:14,isLocal:0},{week:12,team:18,isLocal:1},{week:13,team:28,isLocal:0},{week:14,team:6,isLocal:0},{week:15,team:1,isLocal:1},{week:16,team:30,isLocal:0},{week:17,team:12,isLocal:1},{week:18,team:16,isLocal:0}],j=[{week:1,team:25,isLocal:1,teamWin:0},{week:2,team:22,isLocal:0,teamWin:1},{week:3,team:21,isLocal:0,teamWin:1},{week:4,team:24,isLocal:1,teamWin:0},{week:5,team:17,isLocal:1,teamWin:0},{week:6,team:16,isLocal:1,teamWin:1},{week:7,team:19,isLocal:0,teamWin:1},{week:8,team:28,isLocal:0,teamWin:0},{week:9,team:11,isLocal:1,teamWin:0},{week:10,team:20,isLocal:0,teamWin:0},{week:12,team:16,isLocal:0,teamWin:1},{week:13,team:3,isLocal:1,teamWin:0},{week:14,team:31,isLocal:1,teamWin:0},{week:15,team:8,isLocal:0,teamWin:0},{week:16,team:25,isLocal:0,teamWin:1},{week:17,team:28,isLocal:1,teamWin:0}],_=function(e){switch(console.log({year:e}),e){case 2021:return u;case 2020:return j;default:return u}},w=(t(41),t(0)),g=2021,L=[g,2020],k="https://reyesrico.pythonanywhere.com",b=function(e){Object(o.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=a.call.apply(a,[this].concat(s))).state={teams:[],predictions:[],schedule:[],isLoading:!1,year:2021},e.loadSchedule=function(){var a=e.state.year,t=_(a);console.log({schedule:t}),e.setState({schedule:t})},e.loadSchedulePredictions=function(){var a=e.state.schedule;if(a.length){var t=a.map((function(e){var a={team_number:e.team,week_number:e.week,is_local:e.isLocal,is_playoff:0,is_super_bowl:0,weather_wind:1,weather_humidity:52};return p.a.get("".concat(k,"/predict"),a)}));console.log("PREDICTING"),e.setState({isLoading:!0}),Promise.all(t).then((function(a){var t=a.map((function(e){return e.data.predict?1:0}));e.setState({predictions:t})})).catch((function(e){return console.log(e)})).finally((function(){console.log("FINISHED PREDICTING"),e.setState({isLoading:!1})}))}},e.renderSchedule=function(){var a=e.state,t=a.schedule,c=a.predictions,s=a.year,n=[0,0];if(t.length&&c.length){c.forEach((function(e){return e?n[0]++:n[1]++}));var i=s!==g?e.renderMatches(c,t):[],r=i.filter((function(e){return 1===e})).length,l=s!==g?t.filter((function(e){return 1===e.teamWin})).length:0;return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"app__summary",children:[Object(w.jsxs)("span",{children:["Wins: ",n[0]]}),Object(w.jsxs)("span",{children:["Losses: ",n[1]]}),s!==g&&Object(w.jsxs)("span",{children:["Matches: ",r," - Reliability: ",r/i.length*100,"%"]}),s!==g&&Object(w.jsxs)("span",{children:["Predicted Wins: ",n[0]," - Real Wins: ",l]})]}),Object(w.jsxs)("div",{className:"app__game",children:[Object(w.jsx)("div",{className:"app__week app__game-header",children:"Week"}),Object(w.jsx)("div",{className:"app__team app__game-header",children:"Team"}),Object(w.jsx)("div",{className:"app__local app__game-header",children:"49ers Local"}),Object(w.jsx)("div",{className:"app__win app__game-header",children:"49ers will win?"}),s!==g&&Object(w.jsx)("div",{className:"app__result app__game-header",children:"49ers DID WIN?"}),s!==g&&Object(w.jsx)("div",{className:"app__match app__game-header",children:"Predictor Matched?"})]}),t.map((function(a,t){return Object(w.jsxs)("div",{className:"app__game",children:[Object(w.jsx)("div",{className:"app__week",children:a.week}),Object(w.jsx)("div",{className:"app__team",children:e.getTeam(a.team)}),Object(w.jsx)("div",{className:"app__local",children:a.isLocal?"Yes":"No"}),Object(w.jsx)("div",{className:"app__win app__game-".concat(e.renderResultWording(c[t]).toLowerCase()),children:e.renderResultWording(c[t])}),s!==g&&Object(w.jsx)("div",{className:"app__result app__game-".concat(e.renderResultWording(a.teamWin).toLocaleLowerCase()),children:e.renderResultWording(a.teamWin)}),s!==g&&Object(w.jsx)("div",{className:"app__match app__game-".concat(e.renderResultWording(i[t]).toLocaleLowerCase()),children:i[t]?"Matched":"No Match"})]})}))]})}},e.getTeam=function(a){var t=e.state.teams.find((function(e){return e.id===a}));return t?t.name:""},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadSchedule(),p.a.get("".concat(k,"/teams")).then((function(a){e.setState({teams:a.data.teams})}))}},{key:"componentDidUpdate",value:function(e,a){this.state.teams===a.teams&&this.state.year===a.year||(this.loadSchedule(),this.loadSchedulePredictions())}},{key:"renderResultWording",value:function(e){return e?"Win":"Lose"}},{key:"renderMatches",value:function(e,a){return a.map((function(a,t){return e[t]===a.teamWin?1:0}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.isLoading,c=a.year;return Object(w.jsxs)("div",{className:"app",children:[Object(w.jsxs)("h1",{className:"app__header",children:["49ers ",c," Schedule Predictions"]}),Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{className:"app__select-container",children:[Object(w.jsx)("span",{className:"app__select-txt",children:"Select Year:"}),Object(w.jsx)("select",{className:"app__select",onChange:function(a){return e.setState({year:parseInt(a.target.value)})},children:L.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))})]}),Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{className:"app__content",children:[t&&Object(w.jsx)("div",{className:"app__img-container",children:Object(w.jsx)("img",{src:h,className:"app__img",alt:"loading"})}),!t&&Object(w.jsx)("div",{className:"app__schedule",children:this.renderSchedule()})]})]})}}]),t}(c.Component),f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(a){var t=a.getCLS,c=a.getFID,s=a.getFCP,n=a.getLCP,i=a.getTTFB;t(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(b,{})}),document.getElementById("root")),f()}},[[43,1,2]]]);
//# sourceMappingURL=main.2487334f.chunk.js.map